---
title: Polymer
layout: default
---
<h2>Install</h2>
<h3>Packages</h3>
<p>We use bower to handle dependencies.</p>
<p>Bower requires node, npm (node package manager) & git.</p>
<p>Install bower globally (-g option. Because we use it from the command line).</p>
{% highlight bash %}
$ apt-get install node npm git
$ npm install -g bower
{% endhighlight %}
<h3>Start project</h3>
<p>1. Create project directory & go to project directory</p>
{% highlight bash %}
$ mkdir project_bla && cd project_bla
{% endhighlight %}
<p>2. Initialise project with bower to handle dependencies (generate a bower.json config file)</p>
<p>name of project will be small caps hyphenated; leave version to 0.0.0; keep description short and to the point; set the rest to default or own judgement.</p>
{% highlight bash %}
$ bower init
? name: project-bla
? version: 0.0.0
? description: Do bla easy in the browser.
? main file:
? what types of modules does this package expose?:
? keywords: bla stuff
? authors: Jon Coucou <joncoucou@coucoucorp.com>
? license: MIT
? homepage: http://www.coucoucorp.com/project-bla/
? set currently installed components as dependencies?: Yes
? add commonly ignored files to ignore list?: Yes
? would you like to mark this package as private which prevents it from being accidentally published to the regitstry?: No
...
...
? Looks good?: Yes
{% endhighlight %}
<p>3. Install polymer for this project and save this dependency in the bower.json config file (dependencies are downloaded into the bower_components folder)</p>
{% highlight bash %}
$ bower install Polymer/polymer --save
{% endhighlight %}
<h3>Update dependencies</h3>
{% highlight bash %}
$ bower update
{% endhighlight %}
<h3>Reinstall dependencies</h3>
<p>Run bower install to download all the dependencies listed in a bower.json config file to a bower_components folder</p>
{% highlight bash %}
$ bower install
{% endhighlight %}

<h2>Popular Web Components</h2>
<p>Polymer core elements</p>
{% highlight bash %}
$ bower install Polymer/core-elements
{% endhighlight %}
<p>Polymer paper elements</p>
{% highlight bash %}
$ bower install Polymer/paper-elements
{% endhighlight %}
<p>Google Web components</p>
{% highlight bash %}
$ bower install GoogleWebComponents/google-analytics GoogleWebComponents/google-apis GoogleWebComponents/google-calendar GoogleWebComponents/google-castable-video GoogleWebComponents/google-chart GoogleWebComponents/google-drive GoogleWebComponents/google-hangout-button GoogleWebComponents/google-map GoogleWebComponents/google-sheets GoogleWebComponents/google-signin GoogleWebComponents/google-streetview-pano GoogleWebComponents/google-url-shortener GoogleWebComponents/google-youtube GoogleWebComponents/google-youtube-upload
{% endhighlight %}

<h2>Using web components</h2>
<p>1. Include webcomponents.min.js for polyfills (top of head in your html file)</p>
{% highlight html %}
<script src="/bower_components/webcomponentsjs/webcomponents.min.js"></script>
{% endhighlight %}
<p>2. Import all components needed (in head of your html file)</p>
{% highlight html %}
<link rel="import" href="/components/my-component.html">
{% endhighlight %}
<p>3. Use the new tags (in body of your html file)</p>
{% highlight html %}
<my-component></mycomponent>
{% endhighlight %}

<h2>Basic setup</h2>
<p>1. Create bits directory (will contain css, images, assets) and components directory (will contain web components)</p>
{% highlight bash %}
$ mkdir bits components
{% endhighlight %}
<p>2. Download boilerplate (basic version) of index.html, bits/main.css and components/my-component.html</p>
{% highlight bash %}
$ curl -o index.html https://raw.githubusercontent.com/matthieubosquet/templates/master/polymer.html
$ curl -o bits/main.css https://raw.githubusercontent.com/matthieubosquet/templates/master/main.css
$ curl -o components/my-component.html https://raw.githubusercontent.com/matthieubosquet/templates/master/my-component.html
{% endhighlight %}
<p>3. Start http server and browse localhost:8000</p>
{% highlight bash %}
$ python3 -m http.server
{% endhighlight %}
<p>4. Edit components/my-component.html</p>
<p>5. Check the <a href="https://www.polymer-project.org/docs/polymer/polymer.html">Polymer API</a></p>

<h2>Polymer sugaring</h2>
<h3>Public API</h3>
<p>Declare the component's Public API via attributes</p>
{% highlight html %}
<polymer-element name="my-component" attributes="color">
{% endhighlight %}
<p>Use the component's attributes in template {{attribute-name}}</p>
{% highlight html %}
{% raw %}
<template>
    <p style="color:{{color}};">This text has my favourite color.</p>
</template>
{% endraw %}
{% endhighlight %}
<p>Specify default values in the created callback (ensure separate instances)</p>
{% highlight html %}
{% raw %}
<polymer-element name="my-component" attributes="name settings">
<template>
    <p>Hello {{name}}, I can't believe <strong style="font-size:{{settings.size}}; color:{{settings.color}};">this is your favourite color!</strong></p>
</template>
<script>
    Polymer({
        created: function() {
            this.name = 'Jon Coucou';
            this.settings = {
                color: 'green',
                size: '40px'
            };
        }
    });
</script>
</polymer-element>
{% endraw %}
{% endhighlight %}
<p>Configure the attributes when using the component</p>
{% highlight html %}
<my-component name="jon" settings='{ "color": "red", "size": "20px" }'></my-component>
<p>Hint types with default values it type is not String (important for data-binding)</p>
<script>
created: function() {
    this.isReady = false; // Initialize and hint type to be a boolean.
    this.count = 0; // Initialize and hint type to be a number.
    this.list = []; // Initialize and hint type to be array.
    this.person = {}; // Initialize and hint type to an object.
}
</script>
<p>Use IDs map ($.id) to reference nodes in script</p>
<script>
    Polymer({
        setFocus: function() {
            this.$.inputId.focus();
        }
    });
</script>
{% endhighlight %}
